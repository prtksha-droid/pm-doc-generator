<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PM Doc Generator</title>
<style>
body{font-family:Arial;padding:20px}
label{font-weight:bold;margin-top:10px;display:block}
input,textarea,button{width:100%;margin-top:4px;margin-bottom:10px;padding:8px}
.fa-two{display:flex;gap:10px}
.fa-field{flex:1}
.helper{background:#f4f4f4;padding:10px;margin-bottom:15px}
</style>
</head>

<body>

<h2>‚ö° Fully Automate</h2>

<div class="fa-two">
  <div class="fa-field">
    <label>Project Name</label>
    <input id="faProjectName">
  </div>
  <div class="fa-field">
    <label>Title</label>
    <input id="faTitle">
  </div>
</div>

<label>Requirements Text</label>
<textarea id="faRequirementsText"></textarea>

<label>Upload Requirements File</label>
<input type="file" id="faRequirementsFile">

<h3>Destination</h3>

<div class="fa-two">
  <div class="fa-field">
    <label>Jira Base URL</label>
    <input id="faJiraBaseUrl">
  </div>
  <div class="fa-field">
    <label>Confluence Base URL</label>
    <input id="faConfluenceBaseUrl">
  </div>
</div>

<div class="fa-two">
  <div class="fa-field">
    <label>Atlassian Email</label>
    <input id="faAtlassianEmail">
  </div>
  <div class="fa-field">
    <label>Atlassian API Token</label>
    <input id="faAtlassianApiToken">
  </div>
</div>

<div class="fa-two">
  <div class="fa-field">
    <label>Confluence Space Key</label>
    <input id="faConfluenceSpaceKey">
  </div>
  <div class="fa-field">
    <label>Jira Project Key</label>
    <input id="faJiraProjectKey">
  </div>
</div>

<button onclick="runFullyAutomate()">Generate & Publish</button>

<hr>

<h2>üìÑ DOCX Generator (Original ‚Äî unchanged)</h2>

<div class="helper">
This part of your original app is untouched.
</div>

<form id="docxForm">
<label>Jira Base URL</label>
<input name="jiraBaseUrl">

<label>Confluence Base URL</label>
<input name="confluenceBaseUrl">

<label>Atlassian Email</label>
<input name="atlassianEmail">

<label>Atlassian API Token</label>
<input name="atlassianApiToken">

<label>Confluence Space Key</label>
<input name="confluenceSpaceKey">

<label>Jira Project Key</label>
<input name="jiraProjectKey">

<label>Title</label>
<input name="title">

<label>Requirements</label>
<textarea name="requirementsText"></textarea>

<button type="submit">Generate DOCX</button>
</form>

<script>
function $fa(id){return document.getElementById(id)}

async function runFullyAutomate(){

const fd=new FormData()

fd.append("projectName",$fa("faProjectName").value)
fd.append("title",$fa("faTitle").value)
fd.append("requirementsText",$fa("faRequirementsText").value)

const file=$fa("faRequirementsFile").files[0]
if(file)fd.append("file",file)

/* ‚≠ê THIS WAS THE MISSING PART */
fd.append("jiraBaseUrl",$fa("faJiraBaseUrl").value)
fd.append("confluenceBaseUrl",$fa("faConfluenceBaseUrl").value)
fd.append("atlassianEmail",$fa("faAtlassianEmail").value)
fd.append("atlassianApiToken",$fa("faAtlassianApiToken").value)

fd.append("confluenceSpaceKey",$fa("faConfluenceSpaceKey").value)
fd.append("jiraProjectKey",$fa("faJiraProjectKey").value)

const r=await fetch("/fully-automate",{method:"POST",body:fd})
const j=await r.json()
alert(JSON.stringify(j,null,2))
}
</script>

</body>
</html>